---
---

<div class="menu-bar">
  <nav>
    <a href="/">Úvod</a>
    
    <div class="dropdown">
      <a href="#farnost" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false">Farnost</a>
      <div class="dropdown-content">
        <a href="/bohosluzby">Bohoslužby</a>
        <a href="/intence">Intence</a>
        <a href="/kalendar">Kalendář</a>
        <a href="/farni-rada">Farní rada</a>
        <a href="/pohreb">Pohřeb</a>
      </div>
    </div>

    <div class="dropdown">
      <a href="#kostely" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false">Kostely</a>
      <div class="dropdown-content">
        <div class="dropdown">
          <a href="#farnost-ht" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false">Farnost Hrochův Týnec</a>
          <div class="dropdown-content">
            <a href="/kostel-ht">Farní kostel Hrochův Týnec</a>
            <a href="/kostel-trojovice">Filiální kostel Trojovice</a>
            <a href="/kostel-honbice">Filiální kostel Honbice</a>
          </div>
        </div>
        <a href="/kostel-chr">Farní kostel Chroustovice</a>
      </div>
    </div>

    <div class="dropdown">
      <a href="#svatosti" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false">Svátosti</a>
      <div class="dropdown-content">
        <a href="/krest">Křest</a>
        <a href="/eucharistie">Eucharistie</a>
        <a href="/svatost-smireni">Svátost smíření</a>
        <a href="/birmovani">Biřmování</a>
        <a href="/manzelstvi">Manželství</a>
        <a href="/pomazani-nemocnych">Pomazání nemocných</a>
      </div>
    </div>

    <div class="dropdown">
      <a href="#media" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false">Média</a>
      <div class="dropdown-content">
        <a href="/ohlasky">Ohlášky</a>
        <a href="/bozi-slovo">Boží slovo</a>
        <a href="/galerie">Galerie</a>
        <a href="/archiv">Archiv</a>
        <a href="/msf">MSF</a>
        <a href="/ke-stazeni">Ke stažení</a>
      </div>
    </div>

    <a href="/kontakty">Kontakty</a>
  </nav>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const dropdownLinks = document.querySelectorAll('.menu-bar .dropdown > a');
    
    dropdownLinks.forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
      });

      link.addEventListener('keydown', function(e) {
        const dropdown = this.parentElement;
        const dropdownContent = dropdown.querySelector('.dropdown-content');
        
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          const isExpanded = this.getAttribute('aria-expanded') === 'true';
          this.setAttribute('aria-expanded', !isExpanded);
          
          if (!isExpanded && dropdownContent) {
            const firstLink = dropdownContent.querySelector('a');
            if (firstLink) {
              setTimeout(() => firstLink.focus(), 50);
            }
          }
        } else if (e.key === 'Escape') {
          this.setAttribute('aria-expanded', 'false');
          this.focus();
        } else if (e.key === 'ArrowDown') {
          e.preventDefault();
          this.setAttribute('aria-expanded', 'true');
          if (dropdownContent) {
            const firstLink = dropdownContent.querySelector('a');
            if (firstLink) firstLink.focus();
          }
        }
      });

      const dropdown = link.parentElement;
      dropdown.addEventListener('mouseenter', function() {
        link.setAttribute('aria-expanded', 'true');
      });
      dropdown.addEventListener('mouseleave', function() {
        link.setAttribute('aria-expanded', 'false');
      });
    });

    const dropdownContentLinks = document.querySelectorAll('.menu-bar .dropdown-content a');
    dropdownContentLinks.forEach(function(link) {
      link.addEventListener('keydown', function(e) {
        const dropdown = this.closest('.dropdown');
        const parentDropdownContent = this.closest('.dropdown-content');
        const allLinks = Array.from(parentDropdownContent.querySelectorAll(':scope > a, :scope > .dropdown > a'));
        const currentIndex = allLinks.indexOf(this);
        
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          const nextIndex = currentIndex + 1;
          if (nextIndex < allLinks.length) {
            allLinks[nextIndex].focus();
          }
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          if (currentIndex > 0) {
            allLinks[currentIndex - 1].focus();
          } else {
            const parentLink = dropdown.querySelector(':scope > a');
            if (parentLink) parentLink.focus();
          }
        } else if (e.key === 'Escape') {
          e.preventDefault();
          const parentLink = dropdown.querySelector(':scope > a');
          if (parentLink) {
            parentLink.setAttribute('aria-expanded', 'false');
            parentLink.focus();
          }
        } else if (e.key === 'ArrowRight') {
          const nestedDropdown = this.nextElementSibling;
          if (nestedDropdown && nestedDropdown.classList.contains('dropdown-content')) {
            e.preventDefault();
            this.setAttribute('aria-expanded', 'true');
            const firstNestedLink = nestedDropdown.querySelector('a');
            if (firstNestedLink) firstNestedLink.focus();
          }
        } else if (e.key === 'ArrowLeft') {
          const parentDropdown = this.closest('.dropdown-content .dropdown');
          if (parentDropdown) {
            e.preventDefault();
            const parentLink = parentDropdown.querySelector(':scope > a');
            if (parentLink) {
              parentLink.setAttribute('aria-expanded', 'false');
              parentLink.focus();
            }
          }
        }
      });
    });
  });
</script>

<style>
  .menu-bar {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    padding: 0;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  @media (max-width: 768px) {
    .menu-bar {
      display: none;
    }
  }

  .menu-bar nav {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    justify-content: center;
    gap: 0;
    flex-wrap: wrap;
  }

  .menu-bar nav > a,
  .menu-bar nav .dropdown {
    position: relative;
  }

  .menu-bar nav a {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: #fff;
    text-decoration: none;
    padding: 1.1rem 1.5rem;
    display: block;
    transition: all 0.3s ease;
    font-size: 0.95rem;
    font-weight: 500;
    letter-spacing: 0.3px;
    border-bottom: 3px solid transparent;
    white-space: nowrap;
  }

  .menu-bar nav a:hover {
    background-color: rgba(255,215,0,0.15);
    border-bottom-color: #FFD700;
  }

  .dropdown {
    position: relative;
  }

  .dropdown > a {
    cursor: pointer;
  }

  .dropdown > a::after {
    content: ' ▼';
    font-size: 0.7em;
    margin-left: 0.3rem;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    min-width: 200px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    z-index: 1000;
    top: 100%;
    left: 0;
    border-radius: 0 0 8px 8px;
  }

  .dropdown-content a {
    padding: 0.9rem 1.5rem;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    font-size: 0.9rem;
  }

  .dropdown-content a:last-child {
    border-bottom: none;
    border-radius: 0 0 8px 8px;
  }

  .dropdown-content a:hover {
    background-color: rgba(255,215,0,0.2);
    border-bottom-color: transparent;
  }

  .dropdown:hover .dropdown-content {
    display: block;
  }

  .dropdown:focus-within > .dropdown-content {
    display: block;
  }

  .dropdown-content .dropdown {
    position: relative;
  }

  .dropdown-content .dropdown > a {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .dropdown-content .dropdown > a::after {
    content: ' ▶';
    margin-left: auto;
  }

  .dropdown-content .dropdown-content {
    left: 100%;
    top: 0;
    border-radius: 0 8px 8px 0;
  }

  .dropdown-content .dropdown:hover > .dropdown-content {
    display: block;
  }

  .dropdown-content .dropdown:focus-within > .dropdown-content {
    display: block;
  }
</style>
